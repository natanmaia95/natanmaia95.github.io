<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Making Project Nitro | Natan Maia</title> <meta name="author" content="Natan Maia"> <meta name="description" content="Computer Science student and game developer. "> <meta name="keywords" content="jekyll, jekyll-theme, portfolio-website, game-development, gamedev"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Natan  Maia"
        },
        "url": "https://natanmaia95.github.io/blog/2023/making-project-nitro/",
        "@type": "BlogPosting",
        "description": "Computer Science student and game developer.
",
        "headline": "Making Project Nitro",
        "sameAs": ["https://github.com/natanmaia95", "https://discord.com/users/341334925095469060", "https://nate-the-bard.itch.io"],
        "name": "Natan  Maia",
        "@context": "https://schema.org"
    }
    </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8D%B0&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://natanmaia95.github.io/blog/2023/making-project-nitro/"> <link rel="alternate" type="application/atom+xml" title="blank" href="/feed.xml"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <div class="bodycontainer"> <header> <div id="navparent" class="navparent"> <nav id="navbar" class="navbar navbar-light navbar-expand-sm"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Natan¬†</span>Maia</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> </ul> </div> </div> </nav> </div> </header> <div class="container mt-5 maincontainer"> <div class="post"> <header class="post-header"> <h1 class="post-title">Making Project Nitro</h1> <p class="post-meta">December 16, 2023</p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a> ¬† ¬∑ ¬† <a href="/blog/tag/devlog"> <i class="fa-solid fa-hashtag fa-sm"></i> devlog</a> ¬† <a href="/blog/tag/project-nitro"> <i class="fa-solid fa-hashtag fa-sm"></i> project-nitro</a> ¬† </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Last week I made <a href="https://nate-the-bard.itch.io/project-nitro" rel="external nofollow noopener" target="_blank">Project Nitro</a> public in my itch.io page, so I‚Äôd like to write more about the process of taking it from idea to prototype. This one is a long read as there‚Äôs so much to catch up with, but I‚Äôll try to write shorter posts next time üòÖ.</p> <h2 id="idea">Idea</h2> <p>I love cars and racing, and I love making games, so of course the idea of making my dream racing game has been with me since I learned Construct 2 back in 2018 and made my first little games. Back then, there were attempts at making silly browser racing games from me, but between not knowing many programming patterns and not being satisfied with my driving physics, I scrapped all of them.</p> <p>Fast forward some 5 years, uni assignments are slowing down and I‚Äôm getting bored. I‚Äôve already made better driving models since then, but not a lot more than following tutorials from internet people and doing some research on the side. I was on the low of dropping from two game jams and almost dropping a third, so I decided to get on with a pet project. Well, if I already have the driving systems online, how hard would it be to make a little game around it?</p> <div class="text-center"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-0.png" class="post-img-fluid rounded z-depth-1" width="auto" height="auto" title="" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="caption">This wasn't my first rodeo, at least with cars.</div> <h2 id="the-plan">The Plan</h2> <p>First, I‚Äôd adapt the driving model to be a bit more arcade-y. I was playing some Mario Kart and Ridge Racer at the time, so I, ahem, ‚Äúborrowed‚Äù some assets to help match the feel. Then, I‚Äôd need to make a few tracks, and some way to make progress in them and complete laps. Finally, I ‚Äújust‚Äù needed to get AI and items in, and make something like Blur where you choose a car, an event, you race with powerups on the track, and get points on victory.</p> <p>I definitely overscoped it.</p> <p>I just wanted to know if I knew how to make a game out of my car system, I didn‚Äôt need it to be ‚Äúmarket-ready‚Äù or anything. What if I spent 12 months on the project and it wasn‚Äôt fun to play, or the codebase was a nightmare to work with? Something smaller was enough for my purposes.</p> <p>So the plan eventually ended on: Make a few cars, a few tracks, a Time Attack mode, and menus to go back and forth. That would be my prototype, and if it had good reception and I <em>actually enjoyed making it</em>, I could expand it to an actual game in the near future.</p> <h4 id="controls-and-camera">controls and camera</h4> <p>My original simulation model was twitchy and required very precise inputs. I knew I wanted the game to be more arcadey and accessible in general, so following <a href="https://youtu.be/n_A0RqeGado?si=eni13AUtXr2w-OrA" rel="external nofollow noopener" target="_blank">this GDC talk by a veteran at Criterion Games</a> and playing a bunch of NFS Hot Pursuit Remastered, I went with the following approach:</p> <ul> <li>Make more accurate simulation systems first;</li> <li>Add constraints and assists as needed.</li> </ul> <p>The suspension is your usual Raycast Suspension, and both engine and steering use simple applied forces to the rigidbody. To drift, I decrease the car‚Äôs traction to the ground and add an extra lateral force for good measure, it‚Äôs unrealistic but it‚Äôs fun like old racers. There are also ‚Äúassists‚Äù to apply brakes if the car is rolling down a slope and the throttle is off, and assists to roll the car straight if it is airborne.</p> <h4 id="on-tracking-race-progress">on tracking race progress</h4> <p>The modern method nowadays is to use a spline or path throughout a track, and have cars match to the closest point in that spline. Godot Path3D nodes are still kinda funky so I went with a simpler approach: good old Checkpoints.</p> <div class="text-center"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-checkpoints.webp" class="post-img-fluid rounded z-depth-1" width="auto" height="auto" title="" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="caption">Checkpoints in Mario Kart are a tiny bit more complicated than this.</div> <p>Implementations can vary, but the idea is simple: To complete a race, you must <em>hit</em> all checkpoints, possibly in order. Sometimes some checkpoints can be skipped, so games use ‚Äúkey checkpoints‚Äù for race validation, and the smaller checkpoints for race progress. To rank drivers, check their last checkpoint, and in case of a tie, check the distance to the next checkpoint.</p> <p>I only mention this as it came back to bite me later: making AI drivers follow checkpoints was much harder than following paths. I‚Äôd need a ‚Äúracing line‚Äù Path3D for computer drivers either way. This choice single-handedly made me not want to add AI drivers in this prototype, so I‚Äôll be leaving those for a future project.</p> <h2 id="first-playtest">First Playtest</h2> <p>In my city we have a little event organized by some friends of mine, where small game developers bring their projects for other to play, give feedback, and network in general. It‚Äôs more of a ‚Äúcommunity gathering‚Äù sorta thing, although we do receive local indie studios there as well, and it‚Äôs monthly, so having started the project in October, I should be able to take it to two gatherings before the end of the year.</p> <p>I didn‚Äôt get to go to the first gathering myself, but a friend brought the demo and took some photos.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-1.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-2.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-3.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption">Photos from the first playtest event. You can see the placeholder assets.</div> <p>Some bugs aside, it seems people enjoyed the build. By then I had added the Time Attack feature, and according to my friend some of the visitors there were even competing for times. I couldn‚Äôt have heard anything better from it.</p> <p>As for the bugs, the game had poor performance on the cheaper machines in the venue. Sure, I was using shadows and many light sources in that build, but ‚Äúit ran at 200 FPS in my gamer laptop, so there shouldn‚Äôt be any problems‚Äù. For that reason, I switched the project‚Äôs rendering pipeline in Godot from the Vulcan based Forward+ to the at the time very incomplete OpenGL Compatibility pipeline. It didn‚Äôt even have support for shadows back then, so I was forced to make it light on resources haha.</p> <h4 id="swapping-assets">swapping assets</h4> <p>Now I just need to swap the cars and tracks. I mean, a track is a track, any layout should do right? In my first attempt, I just copied some curves from the Bernese Alps track in Forza Motorsport 4, a simulation racer. It took me some time tweaking materials and road camber to match. It felt great to drive in the original game from all the different corners and elevation changes, so I felt confident it would fit.</p> <div class="text-center"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-4.jpg" class="post-img-fluid rounded z-depth-1" width="auto" height="auto" title="" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="caption">Realistic? Sure. Fun? Not very.</div> <p>I couldn‚Äôt quite pinpoint why it felt bad to drive on the track, yet the stolen tracks from Mario Kart were really nice and fun. And no, it wasn‚Äôt the visuals, the car was quite fun on top of a white test cube. That was, until I finally gave up and made a test map with cylinders of various sizes to test cornering:</p> <div class="text-center"> <figure> <video src="/assets/video/devlogs/making-project-nitro-cylinders.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls=""></video> </figure> </div> <p>The corners in the Alps replica were either too wide and shallow to drift (and unlike a sim, the simple act of cornering wasn‚Äôt a challenge), or were too acute and low-speed to do high-speed drifts, which I think is the most fun part of a Mario Kart-like driving model. The placeholder tracks had wide enough corners to carry long drifts in, and sharp enough corners to test reaction time and racing lines. That day I learned track design is actually harder than it looks.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-corner1.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-corner2.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-corner3.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption">Corner sizes were determined from the driving model. Yes, the car is not accurate to real life scale.</div> <p>I used the built-in CSG nodes in Godot to prototype the levels, which ended up being very painful as my driving model would bug out here and there, the pieces are had to lay out on the scene and somehow even harder to pick with your mouse cursor if they‚Äôre in clumps, and I again forgot you could use Path3D nodes to lay out CSG meshes to shape a track. I need to learn a new workflow (probably a blender-first, engine-later flow) if I want to make more of these maps.</p> <p>Finally, the Ridge Racer car models needed to get out. The date for the second playtest event was approaching so I didn‚Äôt want to model new vehicles myself, but also didn‚Äôt want just white cubes as vehicles. When I was looking for modelling help I still had the racing game Blur in mind as a visual inspiration, so when two members of my local community reached out to help, my request was for a more realistically modeled car. <a href="https://ilustrawes.itch.io/" rel="external nofollow noopener" target="_blank">Wesley</a> and <a href="https://www.artstation.com/paulohncostaart" rel="external nofollow noopener" target="_blank">Paulo</a> did amazing work, maybe too amazing, and now my poor decision-making lead me to a PS2 quality model in a world of white cubes‚Ä¶</p> <p>In the end, some more experienced contacts advised me to use only free assets for the prototype as its purpose is solely the implementation of car and race systems, and leave non-essential graphics for an actual game. I ended up following their word, and instead used the rally car models from <a href="https://assetstore.unity.com/publishers/52093" rel="external nofollow noopener" target="_blank">Ash Dev</a> (the earlier artists were ok with this). I then finalized some menus and picked some stock photos from Unsplash and it was ready to post online.</p> <h2 id="second-playtest">Second Playtest</h2> <p>The day had come. This time I was in town and the event was bigger than usual, being the last for the year, some 20 attendees. I was excited and a bit tense, I don‚Äôt usually show my work to so many people. Before setting up the test PCs I actually got to talk to some new faces about my project and some of the challeges above, and that‚Äôs always great. I also got to test games from my colleagues, give feedback and even help fix some bugs on the fly.</p> <div class="col mt-6"> <div class="row-sm mt-1 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-5.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="row-sm mt-1 mt-md-0"> <figure> <picture> <img src="/assets/img/devlogs/making-project-nitro-6.jpeg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption">If you ever go to an event like this, I highly recommend a small notebook to write down all the feedback.</div> <p>While I didn‚Äôt get much constructive feedback on issues (people actually understood the assets were unpolished on purpose), everyone seemed to approve the controls, and had nice words about the camera work and handling. I did my job, the car was fun to control and felt fast. Sadly the venue had to close earlier than planned so people didn‚Äôt get time to replay it for fun. What a bummer.</p> <p>I did take some notes when guiding and watching the players, though. It wasn‚Äôt obvious to me until that moment but, even though the drift system is a spitting image of the one in Mario Kart, both the fact the cars don‚Äôt look like karts or cartoony in general and the drift doesn‚Äôt spark like the one in the Nintendo game, so the connection wasn‚Äôt immediate to some players and they took some slower laps while I explained drift-boosts to them. Fortunately, everyone got the hang of it by the second or third go-round.</p> <p>Also, even though I made three cars with different driving styles, unless you‚Äôre a car guy and know your Group Bs and your Lancia Deltas, their strengths weren‚Äôt immediately apparent by their design, so instead of adding some flavor text for each car or some driving stats by their side, I just had to explain why ‚Äúthis one drifts kinda funky‚Äù. I should probably patch this in soon.</p> <h2 id="closing-thoughts">Closing Thoughts</h2> <p>I‚Äôm glad I made Project Nitro. There were many learning opportunities throughout those two months, and it‚Äôs probably the first time I had playtesting as a major part of my project calendar. It was also great just <em>finishing</em> something in a good while, last time I made a nice and packaged project to share was Lotus and Lyric back in February.</p> <p>The dream of making a racing game is ever closer, but there‚Äôs still lots of work to do to get there. AI drivers, track layout, art direction, progression, user interface, multiplayer, these are some of the aspects that still require research from my end. I‚Äôll also need to learn how to better manage a team of artists and contributors as I‚Äôll likely not be able to do every single facet of the game myself, as much as I wanted to.</p> <p>Project Nitro now exists. I can fork it if I need to make another racing game. I will wait a bit more before picking it up again, though.</p> </div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> ¬© Copyright 2024 Natan Maia. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: November 17, 2024. </div> </footer> </div> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>